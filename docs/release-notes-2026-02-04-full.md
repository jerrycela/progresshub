# ProgressHub 更新說明 - 2026/02/04

> 本文件彙整今日所有系統更新內容，供同仁了解新功能與改進項目。

---

## 目錄

1. [甘特圖增強功能](#一甘特圖增強功能)
2. [任務池功能](#二任務池功能)
3. [個人設定與 GitLab 整合](#三個人設定與-gitlab-整合)
4. [UI/UX 優化](#四uiux-優化)
5. [技術修復](#五技術修復)

---

## 一、甘特圖增強功能

### 1.1 員工視角（新功能）

**使用情境**：PM、製作人或部門主管需要查看特定員工的工作量。

**操作方式**：
1. 進入「甘特圖」頁面（`/gantt`）
2. 在篩選器區域可看到三個下拉選單：
   - 專案篩選
   - 職能篩選
   - **員工篩選**（新增）

**功能特點**：
- 選擇員工後，顯示該員工負責的**所有任務**（包含已完成）
- 可查看員工過去、現在及未來的工作歷程
- 任務依開始日期排序，方便查看時程

```
┌─────────────────────────────────────────────────────────────┐
│ 甘特圖                                                       │
├─────────────────────────────────────────────────────────────┤
│ [專案: 全部 ▼] [職能: 全部 ▼] [員工: 王小明 ▼]               │
│                                                             │
│ 💡 員工視角：顯示該員工負責的所有任務（含已完成）              │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 任務名稱          │ 2/1  2/5  2/10  2/15  2/20  2/25    │ │
│ ├───────────────────┼─────────────────────────────────────┤ │
│ │ 實作新手教學      │     ████████████                    │ │
│ │ UI 設計          │          ██████████████              │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

---

### 1.2 任務暫停功能（新功能）

**使用情境**：員工經常會被插件（臨時任務）打斷，需要暫停手上的工作。

**問題解決**：
- 過去：任務被打斷時無法明確標記狀態
- 現在：可將任務標記為「暫停中」，並記錄暫停原因

#### 如何暫停任務

1. 進入「進度回報」頁面（`/report`）
2. 找到進行中的任務
3. 點擊「暫停」按鈕
4. 選擇暫停原因並填寫說明

**暫停原因選項**：
| 選項 | 說明 |
|------|------|
| 被插件至其他專案 | 被拉去支援其他專案 |
| 等待外部資源 | 等待美術、音效等外部資源 |
| 等待其他任務完成 | 有前置依賴任務未完成 |
| 其他 | 自行填寫原因 |

#### 暫停任務的顯示

**進度回報頁面**：
```
┌─────────────────────────────────────────────┐
│ 🔸 任務名稱                   ⏸ 暫停中       │
│ 負責人：王小明                               │
│ ┌─────────────────────────────────────────┐ │
│ │ 暫停原因：被插件至其他專案                │ │
│ │ 被拉去支援 Project B                     │ │
│ │ 暫停時間：2026/02/04 14:30              │ │
│ └─────────────────────────────────────────┘ │
│                                             │
│ [繼續] [更新進度] [卡關] [完成]              │
└─────────────────────────────────────────────┘
```

**甘特圖**：
- 暫停任務以**橙黃色條紋**顯示
- 顯示暫停圖示和「暫停中」文字

#### 如何恢復任務

點擊「繼續」按鈕即可恢復任務為「進行中」狀態。

#### 按鈕說明更新

| 按鈕 | 顏色 | 功能 |
|------|------|------|
| 繼續 | 藍色 | 繼續進行（若暫停中則恢復） |
| 更新進度 | 靛藍色 | 更新進度百分比 |
| 暫停 | 橙黃色 | 暫停任務並記錄原因 |
| 卡關 | 橙色 | 回報遇到問題 |
| 完成 | 綠色 | 標記任務完成 |

---

## 二、任務池功能

### 2.1 任務池頁面（新功能）

**路徑**：`/task-pool`

**功能說明**：
- 提供任務池（Backlog）的進階管理介面
- 整合需求池功能，提供更完整的任務檢視
- 支援依專案、部門、狀態篩選

### 2.2 任務建立頁面（新功能）

**路徑**：`/tasks/create`

**功能說明**：
- 新增任務的專用頁面
- 支援設定專案、職能標籤、日期、預估工時等

### 2.3 任務詳情頁面（新功能）

**路徑**：`/tasks/:id`

**功能說明**：
- 查看任務完整資訊
- 顯示進度歷程記錄
- 顯示 GitLab Issue 連結（若有關聯）

### 2.4 角色示範頁面（新功能）

**路徑**：`/role-demo`

**功能說明**：
- 展示不同角色（員工、PM、製作人、主管）的視角差異
- 協助同仁了解權限與功能差異

---

## 三、個人設定與 GitLab 整合

### 3.1 個人設定頁面（新功能）

**路徑**：`/settings/profile`

**功能說明**：
- 編輯個人資料（姓名、Email、大頭貼）
- 設定偏好語言
- 管理通知設定

### 3.2 整合設定頁面（新功能）

**路徑**：`/settings/integrations`

**功能說明**：
- Slack 帳號連結
- GitLab 帳號連結
- 查看連結狀態

---

## 四、UI/UX 優化

### 4.1 色彩系統重構

**變更說明**：
- 主色從紅色調整為**靛藍色**（Indigo）
- 符合 SG-Arts 品牌規範
- 赤紅色僅作為點綴使用（佔比 < 5%）

**色彩對照**：
| 用途 | 舊顏色 | 新顏色 |
|------|--------|--------|
| 主要按鈕 | 赤紅 | 靛藍 |
| 進度條 | 赤紅 | 靛藍 |
| 徽章 Primary | 赤紅 | 靛藍 |
| 強調標題線 | — | 赤紅（保留） |

### 4.2 Dark Mode 修復

**修復項目**：
- 修正組件在深色模式下的對比度問題
- 修復主題初始化導致預設啟用深色模式的問題
- 確保所有頁面在 Light/Dark mode 下都能正常顯示

---

## 五、技術修復

### 5.1 主題初始化問題

**問題**：部分頁面在系統為深色模式時，會出現內容看不清的情況。

**原因**：主題初始化未在根元件執行，導致某些頁面在初始化前就渲染。

**解決方案**：將 `useTheme()` 初始化移至 `App.vue` 根元件。

### 5.2 組件對比度修復

**修復組件**：
- EmptyState
- Modal
- ProgressBar
- Select
- TaskCard

---

## 修改檔案列表

| 檔案 | 變更類型 | 說明 |
|------|----------|------|
| `shared/types/index.ts` | 修改 | 新增 PAUSED 狀態、暫停相關欄位 |
| `pages/GanttPage.vue` | 修改 | 員工視角、暫停任務樣式 |
| `pages/ReportPage.vue` | 修改 | 暫停按鈕、暫停 Modal |
| `pages/TaskPoolPage.vue` | 新增 | 任務池頁面 |
| `pages/TaskCreatePage.vue` | 新增 | 任務建立頁面 |
| `pages/TaskDetailPage.vue` | 新增 | 任務詳情頁面 |
| `pages/RoleDemoPage.vue` | 新增 | 角色示範頁面 |
| `pages/settings/*` | 新增 | 個人設定相關頁面 |
| `components/common/Badge.vue` | 修改 | 新增 paused variant |
| `constants/ui.ts` | 修改 | 新增 PAUSED 狀態顏色 |
| `stores/tasks.ts` | 修改 | 支援 PAUSED 狀態處理 |
| `assets/main.css` | 修改 | 色彩系統重構 |
| `tailwind.config.js` | 修改 | 新增靛藍色系 |

---

## 後續規劃

1. **權限控制**：員工視角目前開放所有人使用，未來可限制為 PM、製作人、部門主管
2. **GitLab 整合**：完成實際的 OAuth 連結功能
3. **Slack 通知**：暫停/恢復任務時發送通知

---

如有任何問題，請聯繫開發團隊。
