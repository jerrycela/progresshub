# 進度回報系統 - 「繼續」快速回報功能規格

> **文件類型**: 功能規格書
> **版本**: v1.0
> **建立日期**: 2026-02-03
> **負責人**: 企劃 Subagent
> **狀態**: 待審核

---

## 一、功能背景

### 1.1 問題描述

在現行的每日進度回報流程中，團隊成員經常遇到以下情況：

| 情境 | 現行痛點 |
|------|----------|
| 長期專案 | 美術人員製作週年賀圖（約 1.5 個月），每天都要填寫相同的回報內容 |
| 連續工作 | 程式開發同一功能連續多天，每日進度變化不大，但仍需填寫完整表單 |
| 跨日任務 | 昨天開始的工作今天繼續，需要重新輸入相同資訊 |

### 1.2 使用者需求（來自團隊討論）

> 「如果是在做同一個功能，應該就是回覆**繼續在進行此專案**，但還是要以每日回報的方式更新上去。」
>
> 「以上兩個情境，都還是可以以每日回報來進行，就是說『繼續』即可。」

---

## 二、功能設計

### 2.1 回報類型定義

| 類型 | 代碼 | 說明 | 操作複雜度 |
|------|------|------|-----------|
| **進度更新** | `PROGRESS` | 有實際進展，需更新進度百分比 | 🟡 中等 |
| **繼續進行** | `CONTINUE` | 延續昨天/前天工作，無明顯變化 | 🟢 **極簡** |
| **卡關** | `BLOCKED` | 工作卡住，需要協助 | 🟡 中等 |
| **已完成** | `COMPLETE` | 任務完成 | 🟢 簡單 |

### 2.2 「繼續」功能特點

```
┌────────────────────────────────────────────────────────────┐
│                    「繼續」快速回報                          │
├────────────────────────────────────────────────────────────┤
│                                                            │
│  ✅ 一鍵送出，無需填寫任何表單                               │
│  ✅ 自動保持原有進度百分比                                   │
│  ✅ 系統自動記錄回報時間                                     │
│  ✅ 可選擇性添加簡短備註（非必填）                           │
│                                                            │
│  📝 系統預設備註：「繼續進行中」                             │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

---

## 三、使用流程

### 3.1 成員每日回報流程

```
成員登入系統
    │
    ▼
進入「進度回報」頁面
    │
    ▼
顯示「我的進行中任務」列表
    │
    ├─── 任務 A ───┬─── [繼續] ←── 一鍵送出 ✓
    │              ├─── [更新進度]
    │              ├─── [卡關]
    │              └─── [完成]
    │
    ├─── 任務 B ───┬─── [繼續]
    │              ├─── ...
    │
    ▼
回報完成，更新任務最後回報時間
```

### 3.2 UI 操作示意

```
┌─────────────────────────────────────────────────────────────┐
│  📋 每日進度回報                                  2026-02-03 │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  👤 王小明，今天辛苦了！請回報以下任務的進度：                │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │ 📌 新手教學流程邏輯                                    │ │
│  │    📂 專案: 新手教學系統                               │ │
│  │    📊 目前進度: ████████████░░░░░░░░ 65%              │ │
│  │    📅 截止日期: 2024-02-20                            │ │
│  │                                                       │ │
│  │    ┌─────────┐ ┌──────────┐ ┌──────┐ ┌──────┐       │ │
│  │    │ 🔄 繼續 │ │ 📝 更新  │ │ ⚠️ 卡關│ │ ✅ 完成│       │ │
│  │    └─────────┘ └──────────┘ └──────┘ └──────┘       │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │ 📌 角色動畫優化                                        │ │
│  │    📂 專案: UI 改版計畫                                │ │
│  │    📊 目前進度: █████████░░░░░░░░░░░ 45%              │ │
│  │    📅 截止日期: 2024-03-10                            │ │
│  │                                                       │ │
│  │    ┌─────────┐ ┌──────────┐ ┌──────┐ ┌──────┐       │ │
│  │    │ 🔄 繼續 │ │ 📝 更新  │ │ ⚠️ 卡關│ │ ✅ 完成│       │ │
│  │    └─────────┘ └──────────┘ └──────┘ └──────┘       │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 3.3 點擊「繼續」後的行為

| 步驟 | 系統行為 |
|------|----------|
| 1 | 彈出簡易確認對話框（可選擇跳過） |
| 2 | 建立新的 ProgressLog 記錄，`reportType = 'CONTINUE'` |
| 3 | 保持 `progress` 不變，`progressDelta = 0` |
| 4 | 設定 `notes = '繼續進行中'`（或使用者自訂簡短備註） |
| 5 | 更新任務的 `updatedAt` 時間戳 |
| 6 | 顯示成功提示：「✅ 已回報：繼續進行中」 |

---

## 四、回報週期設定

### 4.1 週期類型

PM 可針對不同任務設定回報週期：

| 週期 | 代碼 | 說明 | 適用場景 |
|------|------|------|----------|
| **每日** | `DAILY` | 每天都需回報（預設） | 程式開發、短期任務 |
| **每週** | `WEEKLY` | 每週回報一次 | 長期美術專案 |
| **自訂** | `CUSTOM` | PM 指定 N 天回報一次 | 彈性需求 |

### 4.2 情境範例

**情境一：美術製作週年賀圖**
```
專案週期：1.5 個月
├── 前期（剩餘 > 3 週）：每週回報一次 [WEEKLY]
└── 後期（剩餘 ≤ 3 週）：每兩天回報一次 [CUSTOM: 2 天]
```

**情境二：功能開發（9 月上線）**
```
專案週期：1 月 → 9 月
├── 初期：每週回報一次 [WEEKLY]
├── 中期：可能穿插其他工作，每日回報 [DAILY]
└── 使用「繼續」功能快速完成每日回報
```

---

## 五、資料結構

### 5.1 ProgressLog（進度回報記錄）

```typescript
interface ProgressLog {
  id: string
  taskId: string
  userId: string
  reportType: 'PROGRESS' | 'CONTINUE' | 'BLOCKED' | 'COMPLETE'
  progress: number           // 進度百分比
  progressDelta?: number     // 進度變化量（CONTINUE 時為 0）
  notes?: string             // 備註（CONTINUE 預設為「繼續進行中」）
  blockerReason?: string     // 卡關原因（BLOCKED 時使用）
  reportedAt: string         // 回報時間
}
```

### 5.2 TaskReportSetting（任務回報週期設定）

```typescript
interface TaskReportSetting {
  taskId: string
  reportCycle: 'DAILY' | 'WEEKLY' | 'CUSTOM'
  customDays?: number        // CUSTOM 時，幾天回報一次
  nextReportDue?: string     // 下次應回報日期
}
```

---

## 六、驗收標準

### 6.1 功能驗收

- [ ] 成員可在進度回報頁面看到所有進行中的任務
- [ ] 每個任務顯示「繼續」、「更新進度」、「卡關」、「完成」四個按鈕
- [ ] 點擊「繼續」後，一鍵完成回報（無需填寫表單）
- [ ] 系統正確記錄 `reportType = 'CONTINUE'` 的回報
- [ ] 進度百分比保持不變，`progressDelta = 0`
- [ ] 顯示成功提示訊息

### 6.2 PM 功能驗收

- [ ] PM 可設定任務的回報週期（每日/每週/自訂）
- [ ] 系統根據回報週期計算下次應回報日期
- [ ] 追殺清單正確顯示超過回報週期未回報的任務

---

## 七、後續擴展

| 功能 | 說明 | 優先級 |
|------|------|--------|
| Slack 快速回報 | `/report continue` 指令一鍵繼續 | 🟠 Medium |
| 批次繼續 | 一次對多個任務點擊「全部繼續」 | 🟡 Low |
| 智慧提醒 | 根據回報週期發送差異化提醒 | 🟠 Medium |

---

## 八、修訂記錄

| 版本 | 日期 | 修改內容 | 修改人 |
|------|------|----------|--------|
| v1.0 | 2026-02-03 | 初版建立 | 企劃 Subagent |

---

> **審核狀態**: ⏳ 待團隊審核
>
> 請相關人員確認後，回覆「確認」或提出修改建議。
